{% extends 'base.html' %}

{% block title %}Наша команда — CENTURY 21{% endblock %}

{% block content %}
<div class="container">
    <section class="articles-section">
        <div class="articles-header">
            <h1 class="section-title">Наша команда</h1>
            {% if company_info %}
            <p class="section-subtitle">{{ company_info.company_name }} — команда профессионалов</p>
            {% else %}
            <p class="section-subtitle">CENTURY 21 — команда профессионалов</p>
            {% endif %}
        </div>

        <div class="breadcrumbs">
            <a href="{% url 'main:home' %}" class="breadcrumb-link">Главная</a>
            <span class="breadcrumb-separator">•</span>
            <span class="breadcrumb-current">Наша команда</span>
        </div>

        {% if employees %}
        <div class="articles-category-section" style="margin-top:16px;">
            <div class="category-header">
                <h2 class="category-title">Наши специалисты</h2>
            </div>
            <div class="articles-grid" style="grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));">
                {% for e in employees %}
                <div class="article-card">
                    <div class="article-image" style="height:220px;">
                        {% if e.photo %}
                            <img src="{{ e.photo.url }}" alt="{{ e.full_name }}">
                        {% else %}
                            <img src="/media/gallery/placeholders.png" alt="{{ e.full_name }}">
                        {% endif %}
                    </div>
                    <div class="article-content">
                        <h3 class="article-title" style="margin-bottom:4px;">{{ e.full_name }}</h3>
                        <div class="article-excerpt" style="color:#666;">{{ e.position }}</div>
                        <div class="article-excerpt" style="color:#888; margin-top:6px;">
                            Филиал: {{ e.branch.name }} — {{ e.branch.city }}
                        </div>
                        <div class="article-footer" style="margin-top:12px; display:flex; gap:12px; align-items:center; flex-wrap:wrap;">
                            <a href="{% url 'main:employee_detail' e.id %}" class="btn btn-primary btn-small">Подробнее об агенте</a>
                            <a href="{% url 'main:office_detail' e.branch.slug %}" class="btn btn-secondary btn-small">Посмотреть филиал</a>
                            {% if e.phone %}<span class="article-views"><i class="fas fa-phone" style="color:#999; margin-right:6px;"></i>{{ e.phone }}</span>{% endif %}
                            {% if e.email %}<span class="article-views"><i class="fas fa-envelope" style="color:#999; margin-right:6px;"></i>{{ e.email }}</span>{% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        {% if paginator.num_pages > 1 %}
        <div class="catalog-footer" style="margin-top:18px;">
            {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-secondary">Назад</a>
            {% endif %}
            <span style="margin: 0 10px;">Страница {{ page_obj.number }} из {{ paginator.num_pages }}</span>
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" class="btn btn-secondary">Вперёд</a>
            {% endif %}
        </div>
        {% endif %}
        {% else %}
        <div class="no-articles">
            <p>Сотрудники пока не добавлены</p>
        </div>
        {% endif %}
    </section>

</div>

<style>
.btn-secondary {
    background-color: #6c757d;
    border-color: #6c757d;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    display: inline-block;
}

.btn-secondary:hover {
    background-color: #5a6268;
    border-color: #545b62;
    color: white;
    text-decoration: none;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.btn-secondary.btn-small {
    padding: 6px 12px;
    font-size: 12px;
}
</style>
{% endblock %} 